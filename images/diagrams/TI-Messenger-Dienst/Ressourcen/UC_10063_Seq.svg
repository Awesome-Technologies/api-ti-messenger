<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1656px" preserveAspectRatio="none" style="width:1721px;height:1656px;background:#FFFFFF;" version="1.1" viewBox="0 0 1721 1656" width="1721px" zoomAndPan="magnify"><defs><filter height="300%" id="f1ey39pycby5nk" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#F5F5F5" height="1644.9453" style="stroke:#A80036;stroke-width:1.0;" width="773" x="481" y="6"/><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="193" x="768.5" y="22.708">Messenger-Service</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="0" x="966.5" y="23.8872"/><rect fill="#F0F8FF" filter="url(#f1ey39pycby5nk)" height="1173.3984" style="stroke:#000000;stroke-width:1.0;" width="10" x="360" y="317.9844"/><rect fill="#DCDCDC" filter="url(#f1ey39pycby5nk)" height="1105.8203" style="stroke:#000000;stroke-width:1.0;" width="10" x="589" y="351.7734"/><rect fill="#DCDCDC" filter="url(#f1ey39pycby5nk)" height="602.8047" style="stroke:#000000;stroke-width:1.0;" width="10" x="862.5" y="728.4219"/><rect fill="#DCDCDC" filter="url(#f1ey39pycby5nk)" height="67.5781" style="stroke:#000000;stroke-width:1.0;" width="10" x="1136" y="906.5469"/><rect fill="#C9FFC9" filter="url(#f1ey39pycby5nk)" height="305.3125" style="stroke:#000000;stroke-width:1.0;" width="10" x="1365" y="1118.4922"/><rect fill="#FFE4E1" filter="url(#f1ey39pycby5nk)" height="172.7031" style="stroke:#000000;stroke-width:2.0;" width="703" x="10" y="497.9297"/><rect fill="#F0F8FF" filter="url(#f1ey39pycby5nk)" height="172.125" style="stroke:#000000;stroke-width:2.0;" width="786" x="703" y="835"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="133" x2="133" y1="118.5625" y2="1534.3828"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="365" x2="365" y1="118.5625" y2="1534.3828"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="594" x2="594" y1="118.5625" y2="1534.3828"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="867" x2="867" y1="118.5625" y2="1534.3828"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1141" x2="1141" y1="118.5625" y2="1534.3828"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1370" x2="1370" y1="118.5625" y2="1534.3828"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1602" x2="1602" y1="118.5625" y2="1534.3828"/><text fill="#000000" font-family="Aapex" font-size="20" lengthAdjust="spacing" textLength="220" x="20" y="90.5645">Akteur - A in der Rolle</text><text fill="#000000" font-family="Aapex" font-size="20" lengthAdjust="spacing" textLength="159" x="50.5" y="113.8457">User / User-HBA</text><ellipse cx="133" cy="15" fill="#DCDCDC" filter="url(#f1ey39pycby5nk)" rx="8" ry="8" style="stroke:#000000;stroke-width:2.0;"/><path d="M133,23 L133,50 M120,31 L146,31 M133,50 L120,65 M133,50 L146,65 " fill="none" filter="url(#f1ey39pycby5nk)" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="Aapex" font-size="20" lengthAdjust="spacing" textLength="220" x="20" y="1551.9473">Akteur - A in der Rolle</text><text fill="#000000" font-family="Aapex" font-size="20" lengthAdjust="spacing" textLength="159" x="50.5" y="1575.2285">User / User-HBA</text><ellipse cx="133" cy="1589.9453" fill="#DCDCDC" filter="url(#f1ey39pycby5nk)" rx="8" ry="8" style="stroke:#000000;stroke-width:2.0;"/><path d="M133,1597.9453 L133,1624.9453 M120,1605.9453 L146,1605.9453 M133,1624.9453 L120,1639.9453 M133,1624.9453 L146,1639.9453 " fill="none" filter="url(#f1ey39pycby5nk)" style="stroke:#000000;stroke-width:2.0;"/><rect fill="#F0F8FF" filter="url(#f1ey39pycby5nk)" height="60.5625" style="stroke:#000000;stroke-width:1.5;" width="214" x="256" y="53"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="139" x="293.5" y="78.5645">TI-Messenger-</text><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="79" x="323.5" y="101.8457">Client A</text><rect fill="#F0F8FF" filter="url(#f1ey39pycby5nk)" height="60.5625" style="stroke:#000000;stroke-width:1.5;" width="214" x="256" y="1533.3828"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="139" x="293.5" y="1558.9473">TI-Messenger-</text><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="79" x="323.5" y="1582.2285">Client A</text><rect fill="#EFEFFF" filter="url(#f1ey39pycby5nk)" height="60.5625" style="stroke:#000000;stroke-width:1.5;" width="214" x="485" y="53"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="114" x="535" y="78.5645">Messenger-</text><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="54" x="565" y="101.8457">Proxy</text><rect fill="#EFEFFF" filter="url(#f1ey39pycby5nk)" height="60.5625" style="stroke:#000000;stroke-width:1.5;" width="214" x="485" y="1533.3828"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="114" x="535" y="1558.9473">Messenger-</text><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="54" x="565" y="1582.2285">Proxy</text><rect fill="#EFEFFF" filter="url(#f1ey39pycby5nk)" height="60.5625" style="stroke:#000000;stroke-width:1.5;" width="305" x="713" y="53"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="189" x="768" y="78.5645">Matrix-Homeserver</text><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="291" x="720" y="101.8457">(inklusive Nutzerverzeichnis)</text><rect fill="#EFEFFF" filter="url(#f1ey39pycby5nk)" height="60.5625" style="stroke:#000000;stroke-width:1.5;" width="305" x="713" y="1533.3828"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="189" x="768" y="1558.9473">Matrix-Homeserver</text><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="291" x="720" y="1582.2285">(inklusive Nutzerverzeichnis)</text><rect fill="#EFEFFF" filter="url(#f1ey39pycby5nk)" height="37.2813" style="stroke:#000000;stroke-width:1.5;" width="214" x="1032" y="76.2813"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="143" x="1067.5" y="101.8457">Push-Gateway</text><rect fill="#EFEFFF" filter="url(#f1ey39pycby5nk)" height="37.2813" style="stroke:#000000;stroke-width:1.5;" width="214" x="1032" y="1533.3828"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="143" x="1067.5" y="1558.9473">Push-Gateway</text><rect fill="#C9FFC9" filter="url(#f1ey39pycby5nk)" height="60.5625" style="stroke:#000000;stroke-width:1.5;" width="214" x="1261" y="53"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="139" x="1298.5" y="78.5645">TI-Messenger-</text><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="79" x="1328.5" y="101.8457">Client B</text><rect fill="#C9FFC9" filter="url(#f1ey39pycby5nk)" height="60.5625" style="stroke:#000000;stroke-width:1.5;" width="214" x="1261" y="1533.3828"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="139" x="1298.5" y="1558.9473">TI-Messenger-</text><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="79" x="1328.5" y="1582.2285">Client B</text><text fill="#000000" font-family="Aapex" font-size="20" lengthAdjust="spacing" textLength="220" x="1489" y="90.5645">Akteur - B in der Rolle</text><text fill="#000000" font-family="Aapex" font-size="20" lengthAdjust="spacing" textLength="159" x="1519.5" y="113.8457">User / User-HBA</text><ellipse cx="1602" cy="15" fill="#DCDCDC" filter="url(#f1ey39pycby5nk)" rx="8" ry="8" style="stroke:#000000;stroke-width:2.0;"/><path d="M1602,23 L1602,50 M1589,31 L1615,31 M1602,50 L1589,65 M1602,50 L1615,65 " fill="none" filter="url(#f1ey39pycby5nk)" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="Aapex" font-size="20" lengthAdjust="spacing" textLength="220" x="1489" y="1551.9473">Akteur - B in der Rolle</text><text fill="#000000" font-family="Aapex" font-size="20" lengthAdjust="spacing" textLength="159" x="1519.5" y="1575.2285">User / User-HBA</text><ellipse cx="1602" cy="1589.9453" fill="#DCDCDC" filter="url(#f1ey39pycby5nk)" rx="8" ry="8" style="stroke:#000000;stroke-width:2.0;"/><path d="M1602,1597.9453 L1602,1624.9453 M1589,1605.9453 L1615,1605.9453 M1602,1624.9453 L1589,1639.9453 M1602,1624.9453 L1615,1639.9453 " fill="none" filter="url(#f1ey39pycby5nk)" style="stroke:#000000;stroke-width:2.0;"/><rect fill="#F0F8FF" filter="url(#f1ey39pycby5nk)" height="1173.3984" style="stroke:#000000;stroke-width:1.0;" width="10" x="360" y="317.9844"/><rect fill="#DCDCDC" filter="url(#f1ey39pycby5nk)" height="1105.8203" style="stroke:#000000;stroke-width:1.0;" width="10" x="589" y="351.7734"/><rect fill="#DCDCDC" filter="url(#f1ey39pycby5nk)" height="602.8047" style="stroke:#000000;stroke-width:1.0;" width="10" x="862.5" y="728.4219"/><rect fill="#DCDCDC" filter="url(#f1ey39pycby5nk)" height="67.5781" style="stroke:#000000;stroke-width:1.0;" width="10" x="1136" y="906.5469"/><rect fill="#C9FFC9" filter="url(#f1ey39pycby5nk)" height="305.3125" style="stroke:#000000;stroke-width:1.0;" width="10" x="1365" y="1118.4922"/><path d="M22,158.5625 L22,237.5625 L1712,237.5625 L1712,168.5625 L1702,158.5625 L22,158.5625 " fill="#FBFB77" filter="url(#f1ey39pycby5nk)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1702,158.5625 L1702,168.5625 L1712,168.5625 L1702,158.5625 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="361" y="175.6294"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="1007" x="357" y="194.4751">Die Akteure sind auf dem selben Messenger-Service angemeldet und im Besitz eines zugelassenen TI-Messenger-Clients.</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="580" x="357" y="214.2642">Ebenfalls sind beide Akteure einem gemeinsamen Raum beigetreten.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="361" y="230.3403"/><polygon fill="#000000" points="348,313.9844,358,317.9844,348,321.9844,352,317.9844" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="133" x2="354" y1="317.9844" y2="317.9844"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="107" x="140" y="292.186">Akteur A löst</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="143" x="140" y="311.9751">Matrix-Event aus</text><polygon fill="#FF0000" points="577,347.7734,587,351.7734,577,355.7734,581,351.7734" style="stroke:#FF0000;stroke-width:1.0;"/><line style="stroke:#FF0000;stroke-width:1.0;" x1="370" x2="583" y1="351.7734" y2="351.7734"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="128" x="377" y="345.7642">Matrix-Request</text><line style="stroke:#000000;stroke-width:1.0;" x1="599" x2="641" y1="444.9297" y2="444.9297"/><line style="stroke:#000000;stroke-width:1.0;" x1="641" x2="641" y1="444.9297" y2="457.9297"/><line style="stroke:#000000;stroke-width:1.0;" x1="600" x2="641" y1="457.9297" y2="457.9297"/><polygon fill="#000000" points="610,453.9297,600,457.9297,610,461.9297,606,457.9297" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="128" x="606" y="379.5532">Prüfung, ob der</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="166" x="606" y="399.3423">Empfänger auf dem</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="215" x="606" y="419.1313">selben Messenger-Service</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="108" x="606" y="438.9204">registriert ist</text><path d="M10,497.9297 L80,497.9297 L80,504.9297 L70,514.9297 L10,514.9297 L10,497.9297 " fill="#D3D3D3" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="172.7031" style="stroke:#000000;stroke-width:2.0;" width="703" x="10" y="497.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="25" x="25" y="510.9966">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="5" x="95" y="515.9604">[</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="74" x="100" y="514.7813">Abbruch</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="5" x="174" y="515.9604">]</text><polygon fill="#000000" points="381,580.0547,371,584.0547,381,588.0547,377,584.0547" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="375" x2="588" y1="584.0547" y2="584.0547"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="164" x="413" y="538.4673">Empfänger ist nicht</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="144" x="433" y="558.2563">auf dem gleichen</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="162" x="420" y="578.0454">Matrix-Homeserver</text><polygon fill="#000000" points="144,633.6328,134,637.6328,144,641.6328,140,637.6328" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="138" x2="359" y1="637.6328" y2="637.6328"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="160" x="188" y="611.8345">Event konnte nicht</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="161" x="192" y="631.6235">verarbeitet werden</text><polygon fill="#FF0000" points="850.5,724.4219,860.5,728.4219,850.5,732.4219,854.5,728.4219" style="stroke:#FF0000;stroke-width:1.0;"/><line style="stroke:#FF0000;stroke-width:1.0;" x1="599" x2="856.5" y1="728.4219" y2="728.4219"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="135" x="606" y="722.4126">HTTP(S) Foward</text><line style="stroke:#000000;stroke-width:1.0;" x1="872.5" x2="914.5" y1="782" y2="782"/><line style="stroke:#000000;stroke-width:1.0;" x1="914.5" x2="914.5" y1="782" y2="795"/><line style="stroke:#000000;stroke-width:1.0;" x1="873.5" x2="914.5" y1="795" y2="795"/><polygon fill="#000000" points="883.5,791,873.5,795,883.5,799,879.5,795" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="49" x="879.5" y="756.2017">Event</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="97" x="879.5" y="775.9907">verarbeiten</text><path d="M703,835 L773,835 L773,842 L763,852 L703,852 L703,835 " fill="#D3D3D3" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="172.125" style="stroke:#000000;stroke-width:2.0;" width="786" x="703" y="835"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="25" x="718" y="848.0669">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="5" x="788" y="853.0308">[</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="197" x="793" y="851.8516">Pushbenachrichtigung</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="5" x="990" y="853.0308">]</text><polygon fill="#000000" points="1124,902.5469,1134,906.5469,1124,910.5469,1128,906.5469" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="872.5" x2="1130" y1="906.5469" y2="906.5469"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="221" x="879.5" y="900.5376">POST /_matrix/push/notify</text><polygon fill="#000000" points="1358,936.3359,1368,940.3359,1358,944.3359,1362,940.3359" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="1146" x2="1364" y1="940.3359" y2="940.3359"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="97" x="1153" y="934.3267">Notification</text><polygon fill="#000000" points="883.5,970.125,873.5,974.125,883.5,978.125,879.5,974.125" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="877.5" x2="1140" y1="974.125" y2="974.125"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="54" x="1080" y="968.1157">Status</text><polygon fill="#000000" points="610,1080.7031,600,1084.7031,610,1088.7031,606,1084.7031" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="604" x2="861.5" y1="1084.7031" y2="1084.7031"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="128" x="722.5" y="1058.9048">Matrix-Request</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="94" x="761.5" y="1078.6938">an Client-B</text><polygon fill="#000000" points="1353,1114.4922,1363,1118.4922,1353,1122.4922,1357,1118.4922" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="599" x2="1359" y1="1118.4922" y2="1118.4922"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="142" x="606" y="1112.4829">HTTP(S) Forward</text><line style="stroke:#000000;stroke-width:1.0;" x1="1375" x2="1417" y1="1172.0703" y2="1172.0703"/><line style="stroke:#000000;stroke-width:1.0;" x1="1417" x2="1417" y1="1172.0703" y2="1185.0703"/><line style="stroke:#000000;stroke-width:1.0;" x1="1376" x2="1417" y1="1185.0703" y2="1185.0703"/><polygon fill="#000000" points="1386,1181.0703,1376,1185.0703,1386,1189.0703,1382,1185.0703" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="49" x="1382" y="1146.272">Event</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="97" x="1382" y="1166.061">verarbeiten</text><polygon fill="#000000" points="610,1214.8594,600,1218.8594,610,1222.8594,606,1218.8594" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="604" x2="1364" y1="1218.8594" y2="1218.8594"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="54" x="1304" y="1212.8501">Status</text><polygon fill="#000000" points="850.5,1268.4375,860.5,1272.4375,850.5,1276.4375,854.5,1272.4375" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="599" x2="856.5" y1="1272.4375" y2="1272.4375"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="142" x="606" y="1246.6392">HTTP(S) Forward</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="141" x="606" y="1266.4282">(Status Client-B)</text><polygon fill="#FF0000" points="610,1327.2266,600,1331.2266,610,1335.2266,606,1331.2266" style="stroke:#FF0000;stroke-width:1.0;"/><line style="stroke:#FF0000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="604" x2="866.5" y1="1331.2266" y2="1331.2266"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="201" x="659.5" y="1325.2173">Status (Matrix-Request)</text><polygon fill="#000000" points="1353,1386.0156,1363,1390.0156,1353,1394.0156,1357,1390.0156" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="599" x2="1359" y1="1390.0156" y2="1390.0156"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="142" x="606" y="1384.0063">HTTP(S) Forward</text><polygon fill="#000000" points="1590,1419.8047,1600,1423.8047,1590,1427.8047,1594,1423.8047" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1370" x2="1596" y1="1423.8047" y2="1423.8047"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="54" x="1377" y="1417.7954">Status</text><polygon fill="#000000" points="381,1453.5938,371,1457.5938,381,1461.5938,377,1457.5938" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="375" x2="593" y1="1457.5938" y2="1457.5938"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="142" x="445" y="1451.5845">HTTP(S) Forward</text><polygon fill="#000000" points="144,1487.3828,134,1491.3828,144,1495.3828,140,1491.3828" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="138" x2="364" y1="1491.3828" y2="1491.3828"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="54" x="304" y="1485.3735">Status</text><!--MD5=[e1dc481eb1e366832de6548cc939393e]
@startuml
skinparam sequenceMessageAlign direction
skinparam minClassWidth 200
skinparam BoxPadding 1
skinparam sequenceReferenceHeaderBackgroundColor palegreen
scale max 2048 width

skinparam sequence {
ArrowColor black
ArrowFontSize 17
ActorBorderColor black
LifeLineBorderColor black
LifeLineBackgroundColor Gainsboro

ParticipantBorderColor Motivation
ParticipantBackgroundColor Motivation
ParticipantFontName Impact
ParticipantFontSize 20
ParticipantFontColor black
ParticipantBorderColor Black
ParticipantBackgroundColor MOTIVATION

ActorBackgroundColor Gainsboro
ActorFontColor black
ActorFontSize 20
ActorFontName Aapex
}
    actor U1 as "Akteur - A in der Rolle\nUser / User-HBA"
    participant C1 as "TI-Messenger-\nClient A" #AliceBlue
    box <size:18>Messenger-Service</size> #WhiteSmoke
      participant MP as "Messenger-\nProxy"
      participant MH as "Matrix-Homeserver \n(inklusive Nutzerverzeichnis)"
      participant PG as "Push-Gateway"
    end box
    participant C2 as "TI-Messenger-\nClient B" #TECHNOLOGY
    actor U2 as "Akteur - B in der Rolle\nUser / User-HBA"
    
|||
note over U1, U2: \n<size:17>Die Akteure sind auf dem selben Messenger-Service angemeldet und im Besitz eines zugelassenen TI-Messenger-Clients.</size>\n<size:17>Ebenfalls sind beide Akteure einem gemeinsamen Raum beigetreten.</size>\n
|||

    U1->C1: Akteur A löst \nMatrix-Event aus
      activate C1 #AliceBlue
    C1-[#red]>MP: Matrix-Request
      activate MP
    MP->MP: Prüfung, ob der \nEmpfänger auf dem \nselben Messenger-Service \nregistriert ist
    
    |||
    opt#LightGrey #MistyRose <size:16>Abbruch</size>
      MP- ->C1: Empfänger ist nicht \nauf dem gleichen \nMatrix-Homeserver
      C1- ->U1: Event konnte nicht \nverarbeitet werden
    |||
    end
    
    |||
    MP-[#red]>MH: HTTP(S) Foward
      activate MH
    MH->MH: Event \nverarbeiten
    
    |||
    opt#LightGrey #AliceBlue <size:16>Pushbenachrichtigung</size>
    |||
    MH->PG: POST /_matrix/push/notify
      activate PG
    PG->C2: Notification
    PG- ->MH: Status
      deactivate PG
    |||
    end
    
    |||
    MH->MP: Matrix-Request \nan Client-B
    MP->C2: HTTP(S) Forward
      activate C2 #TECHNOLOGY
    C2->C2: Event \nverarbeiten
    C2- ->MP: Status
    MP- ->MH: HTTP(S) Forward \n(Status Client-B)
    |||
    MH-[#red]->MP: Status (Matrix-Request)
      deactivate MH
    |||
    MP- ->C2: HTTP(S) Forward
    C2- ->U2: Status
      deactivate C2
    MP- ->C1: HTTP(S) Forward
      deactivate MP
    C1- ->U1: Status
      deactivate C1
|||
@enduml

PlantUML version 1.2021.16(Wed Dec 08 17:25:22 UTC 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>