<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2126px" preserveAspectRatio="none" style="width:1781px;height:2126px;background:#FFFFFF;" version="1.1" viewBox="0 0 1781 2126" width="1781px" zoomAndPan="magnify"><defs/><g><rect fill="#F5F5F5" height="2114.4297" style="stroke:#181818;stroke-width:0.5;" width="761" x="546" y="6"/><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="193" x="827.5" y="22.708">Messenger-Service</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="5" x="1020.5" y="23.8872"> </text><rect fill="#F0F8FF" height="1508.5469" style="stroke:#000000;stroke-width:1.0;" width="10" x="358" y="339.9531"/><rect fill="#DCDCDC" height="1488.7578" style="stroke:#000000;stroke-width:1.0;" width="10" x="652" y="393.5313"/><rect fill="#DCDCDC" height="100.3672" style="stroke:#000000;stroke-width:1.0;" width="10" x="921.5" y="474.1094"/><rect fill="#DCDCDC" height="638.0156" style="stroke:#000000;stroke-width:1.0;" width="10" x="921.5" y="1123.1172"/><rect fill="#DCDCDC" height="67.5781" style="stroke:#000000;stroke-width:1.0;" width="10" x="1191" y="1281.4531"/><rect fill="#C9FFC9" height="462.2578" style="stroke:#000000;stroke-width:1.0;" width="10" x="1416" y="1473.6094"/><rect fill="#F0F8FF" height="372.8594" style="stroke:#000000;stroke-width:1.5;" width="1094.5" x="10" y="268.4063"/><rect fill="#F0F8FF" height="1109.6563" style="stroke:#000000;stroke-width:1.5;" width="1764" x="10" y="859.2109"/><rect fill="#F0F8FF" height="892.1641" style="stroke:none;stroke-width:1.0;" width="1764" x="10" y="1076.7031"/><rect fill="#ADD8E6" height="172.125" style="stroke:#000000;stroke-width:1.5;" width="774" x="764" y="1209.9063"/><line style="stroke:#000000;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="133" x2="133" y1="111.5625" y2="2010.8672"/><line style="stroke:#000000;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="363" x2="363" y1="111.5625" y2="2010.8672"/><line style="stroke:#000000;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="657" x2="657" y1="111.5625" y2="2010.8672"/><line style="stroke:#000000;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="926" x2="926" y1="111.5625" y2="2010.8672"/><line style="stroke:#000000;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1196" x2="1196" y1="111.5625" y2="2010.8672"/><line style="stroke:#000000;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1421" x2="1421" y1="111.5625" y2="2010.8672"/><line style="stroke:#000000;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1651" x2="1651" y1="111.5625" y2="2010.8672"/><text fill="#000000" font-family="Aapex" font-size="20" lengthAdjust="spacing" textLength="220" x="20" y="83.5645">Akteur - A in der Rolle</text><text fill="#000000" font-family="Aapex" font-size="20" lengthAdjust="spacing" textLength="159" x="50.5" y="106.8457">User / User-HBA</text><ellipse cx="133" cy="13.5" fill="#DCDCDC" rx="8" ry="8" style="stroke:#000000;stroke-width:0.5;"/><path d="M133,21.5 L133,48.5 M120,29.5 L146,29.5 M133,48.5 L120,63.5 M133,48.5 L146,63.5 " fill="none" style="stroke:#000000;stroke-width:0.5;"/><text fill="#000000" font-family="Aapex" font-size="20" lengthAdjust="spacing" textLength="220" x="20" y="2028.4316">Akteur - A in der Rolle</text><text fill="#000000" font-family="Aapex" font-size="20" lengthAdjust="spacing" textLength="159" x="50.5" y="2051.7129">User / User-HBA</text><ellipse cx="133" cy="2064.9297" fill="#DCDCDC" rx="8" ry="8" style="stroke:#000000;stroke-width:0.5;"/><path d="M133,2072.9297 L133,2099.9297 M120,2080.9297 L146,2080.9297 M133,2099.9297 L120,2114.9297 M133,2099.9297 L146,2114.9297 " fill="none" style="stroke:#000000;stroke-width:0.5;"/><rect fill="#F0F8FF" height="60.5625" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="256" y="50"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="139" x="293.5" y="75.5645">TI-Messenger-</text><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="79" x="323.5" y="98.8457">Client A</text><rect fill="#F0F8FF" height="60.5625" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="256" y="2009.8672"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="139" x="293.5" y="2035.4316">TI-Messenger-</text><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="79" x="323.5" y="2058.7129">Client A</text><rect fill="#EFEFFF" height="60.5625" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="550" y="50"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="114" x="600" y="75.5645">Messenger-</text><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="54" x="630" y="98.8457">Proxy</text><rect fill="#EFEFFF" height="60.5625" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="550" y="2009.8672"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="114" x="600" y="2035.4316">Messenger-</text><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="54" x="630" y="2058.7129">Proxy</text><rect fill="#EFEFFF" height="60.5625" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="305" x="774" y="50"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="189" x="829" y="75.5645">Matrix-Homeserver</text><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="291" x="781" y="98.8457">(inklusive Nutzerverzeichnis)</text><rect fill="#EFEFFF" height="60.5625" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="305" x="774" y="2009.8672"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="189" x="829" y="2035.4316">Matrix-Homeserver</text><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="291" x="781" y="2058.7129">(inklusive Nutzerverzeichnis)</text><rect fill="#EFEFFF" height="37.2813" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="1089" y="73.2813"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="143" x="1124.5" y="98.8457">Push-Gateway</text><rect fill="#EFEFFF" height="37.2813" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="1089" y="2009.8672"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="143" x="1124.5" y="2035.4316">Push-Gateway</text><rect fill="#C9FFC9" height="60.5625" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="1314" y="50"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="139" x="1351.5" y="75.5645">TI-Messenger-</text><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="79" x="1381.5" y="98.8457">Client B</text><rect fill="#C9FFC9" height="60.5625" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="1314" y="2009.8672"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="139" x="1351.5" y="2035.4316">TI-Messenger-</text><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="79" x="1381.5" y="2058.7129">Client B</text><text fill="#000000" font-family="Aapex" font-size="20" lengthAdjust="spacing" textLength="220" x="1538" y="83.5645">Akteur - B in der Rolle</text><text fill="#000000" font-family="Aapex" font-size="20" lengthAdjust="spacing" textLength="159" x="1568.5" y="106.8457">User / User-HBA</text><ellipse cx="1651" cy="13.5" fill="#DCDCDC" rx="8" ry="8" style="stroke:#000000;stroke-width:0.5;"/><path d="M1651,21.5 L1651,48.5 M1638,29.5 L1664,29.5 M1651,48.5 L1638,63.5 M1651,48.5 L1664,63.5 " fill="none" style="stroke:#000000;stroke-width:0.5;"/><text fill="#000000" font-family="Aapex" font-size="20" lengthAdjust="spacing" textLength="220" x="1538" y="2028.4316">Akteur - B in der Rolle</text><text fill="#000000" font-family="Aapex" font-size="20" lengthAdjust="spacing" textLength="159" x="1568.5" y="2051.7129">User / User-HBA</text><ellipse cx="1651" cy="2064.9297" fill="#DCDCDC" rx="8" ry="8" style="stroke:#000000;stroke-width:0.5;"/><path d="M1651,2072.9297 L1651,2099.9297 M1638,2080.9297 L1664,2080.9297 M1651,2099.9297 L1638,2114.9297 M1651,2099.9297 L1664,2114.9297 " fill="none" style="stroke:#000000;stroke-width:0.5;"/><rect fill="#F0F8FF" height="1508.5469" style="stroke:#000000;stroke-width:1.0;" width="10" x="358" y="339.9531"/><rect fill="#DCDCDC" height="1488.7578" style="stroke:#000000;stroke-width:1.0;" width="10" x="652" y="393.5313"/><rect fill="#DCDCDC" height="100.3672" style="stroke:#000000;stroke-width:1.0;" width="10" x="921.5" y="474.1094"/><rect fill="#DCDCDC" height="638.0156" style="stroke:#000000;stroke-width:1.0;" width="10" x="921.5" y="1123.1172"/><rect fill="#DCDCDC" height="67.5781" style="stroke:#000000;stroke-width:1.0;" width="10" x="1191" y="1281.4531"/><rect fill="#C9FFC9" height="462.2578" style="stroke:#000000;stroke-width:1.0;" width="10" x="1416" y="1473.6094"/><path d="M22,151.5625 L22,230.5625 L1761,230.5625 L1761,161.5625 L1751,151.5625 L22,151.5625 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1751,151.5625 L1751,161.5625 L1761,161.5625 L1751,151.5625 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="383.5" y="168.6294"> </text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="1007" x="383.5" y="187.4751">Die Akteure sind auf dem selben Messenger-Service angemeldet und im Besitz eines zugelassenen TI-Messenger-Clients.</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="473" x="383.5" y="207.2642">Ein Chatraum wurde durch den Einladenen eingerichtet.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="383.5" y="223.3403"> </text><path d="M10,268.4063 L80,268.4063 L80,275.5391 L70,285.5391 L10,285.5391 L10,268.4063 " fill="#D3D3D3" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="372.8594" style="stroke:#000000;stroke-width:1.5;" width="1094.5" x="10" y="268.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="25" x="25" y="281.4731">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="5" x="95" y="286.437">[</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="131" x="100" y="285.2578">Akteur suchen</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="5" x="231" y="286.437">]</text><polygon fill="#000000" points="346,335.9531,356,339.9531,346,343.9531,350,339.9531" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="133" x2="352" y1="339.9531" y2="339.9531"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="129" x="140" y="333.9438">Suche Akteur B</text><polygon fill="#000000" points="640,389.5313,650,393.5313,640,397.5313,644,393.5313" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="368" x2="646" y1="393.5313" y2="393.5313"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="178" x="375" y="367.7329">POST /_matrix/client/</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="179" x="375" y="387.522">user_directory/search</text><line style="stroke:#000000;stroke-width:1.0;" x1="662" x2="704" y1="427.3203" y2="427.3203"/><line style="stroke:#000000;stroke-width:1.0;" x1="704" x2="704" y1="427.3203" y2="440.3203"/><line style="stroke:#000000;stroke-width:1.0;" x1="663" x2="704" y1="440.3203" y2="440.3203"/><polygon fill="#000000" points="673,436.3203,663,440.3203,673,444.3203,669,440.3203" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="150" x="669" y="421.311">TLS-Terminierung</text><polygon fill="#000000" points="909.5,470.1094,919.5,474.1094,909.5,478.1094,913.5,474.1094" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="662" x2="915.5" y1="474.1094" y2="474.1094"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="142" x="669" y="468.1001">HTTP(S) Forward</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="931.5" x2="973.5" y1="527.6875" y2="527.6875"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="973.5" x2="973.5" y1="527.6875" y2="540.6875"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="932.5" x2="973.5" y1="540.6875" y2="540.6875"/><polygon fill="#000000" points="942.5,536.6875,932.5,540.6875,942.5,544.6875,938.5,540.6875" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="149" x="938.5" y="501.8892">Nutzerverzeichnis</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="106" x="938.5" y="521.6782">durchsuchen</text><polygon fill="#000000" points="673,570.4766,663,574.4766,673,578.4766,669,574.4766" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="667" x2="925.5" y1="574.4766" y2="574.4766"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="47" x="872.5" y="568.4673">MXID</text><polygon fill="#000000" points="379,604.2656,369,608.2656,379,612.2656,375,608.2656" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="373" x2="651" y1="608.2656" y2="608.2656"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="142" x="503" y="602.2563">HTTP(S) Forward</text><polygon fill="#000000" points="346,695.0547,356,699.0547,346,703.0547,350,699.0547" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="133" x2="352" y1="699.0547" y2="699.0547"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="150" x="140" y="693.0454">Akteur B einladen</text><polygon fill="#000000" points="640,748.6328,650,752.6328,640,756.6328,644,752.6328" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="368" x2="646" y1="752.6328" y2="752.6328"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="260" x="375" y="726.8345">POST /_matrix/client/r0/rooms/</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="215" x="375" y="746.6235">{roomId}/invite (roomId)</text><line style="stroke:#000000;stroke-width:1.0;" x1="662" x2="704" y1="806.2109" y2="806.2109"/><line style="stroke:#000000;stroke-width:1.0;" x1="704" x2="704" y1="806.2109" y2="819.2109"/><line style="stroke:#000000;stroke-width:1.0;" x1="663" x2="704" y1="819.2109" y2="819.2109"/><polygon fill="#000000" points="673,815.2109,663,819.2109,673,823.2109,669,819.2109" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="229" x="669" y="780.4126">Organisationszugehörigkeit</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="55" x="669" y="800.2017">prüfen</text><path d="M10,859.2109 L74,859.2109 L74,866.3438 L64,876.3438 L10,876.3438 L10,859.2109 " fill="#D3D3D3" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1109.6563" style="stroke:#000000;stroke-width:1.5;" width="1764" x="10" y="859.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="25" y="872.2778">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="5" x="89" y="877.2417">[</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="339" x="94" y="876.0625">kein gemeinsamer Messenger-Service</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="5" x="433" y="877.2417">]</text><polygon fill="#000000" points="379,966.3359,369,970.3359,379,974.3359,375,970.3359" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="373" x2="651" y1="970.3359" y2="970.3359"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="145" x="483" y="924.7485">Akteure nicht auf</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="112" x="483" y="944.5376">dem gleichen</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="162" x="483" y="964.3267">Matrix-Homeserver</text><polygon fill="#000000" points="144,1039.7031,134,1043.7031,144,1047.7031,140,1043.7031" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="138" x2="357" y1="1043.7031" y2="1043.7031"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="120" x="207" y="998.1157">Akteur B kann</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="139" x="207" y="1017.9048">nicht eingeladen</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="63" x="207" y="1037.6938">werden</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="1774" y1="1077.7031" y2="1077.7031"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="5" x="15" y="1093.7339">[</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="296" x="20" y="1092.5547">gemeinsamer Messenger-Service</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="5" x="316" y="1093.7339">]</text><polygon fill="#000000" points="909.5,1119.1172,919.5,1123.1172,909.5,1127.1172,913.5,1123.1172" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="662" x2="915.5" y1="1123.1172" y2="1123.1172"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="135" x="669" y="1117.1079">HTTP(S) Foward</text><line style="stroke:#000000;stroke-width:1.0;" x1="931.5" x2="973.5" y1="1156.9063" y2="1156.9063"/><line style="stroke:#000000;stroke-width:1.0;" x1="973.5" x2="973.5" y1="1156.9063" y2="1169.9063"/><line style="stroke:#000000;stroke-width:1.0;" x1="932.5" x2="973.5" y1="1169.9063" y2="1169.9063"/><polygon fill="#000000" points="942.5,1165.9063,932.5,1169.9063,942.5,1173.9063,938.5,1169.9063" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="151" x="938.5" y="1150.897">Invite verarbeiten</text><path d="M764,1209.9063 L834,1209.9063 L834,1217.0391 L824,1227.0391 L764,1227.0391 L764,1209.9063 " fill="#D3D3D3" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="172.125" style="stroke:#000000;stroke-width:1.5;" width="774" x="764" y="1209.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="25" x="779" y="1222.9731">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="5" x="849" y="1227.937">[</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="197" x="854" y="1226.7578">Pushbenachrichtigung</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="5" x="1051" y="1227.937">]</text><polygon fill="#000000" points="1179,1277.4531,1189,1281.4531,1179,1285.4531,1183,1281.4531" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="931.5" x2="1185" y1="1281.4531" y2="1281.4531"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="221" x="938.5" y="1275.4438">POST /_matrix/push/notify</text><polygon fill="#000000" points="1409,1311.2422,1419,1315.2422,1409,1319.2422,1413,1315.2422" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="1201" x2="1415" y1="1315.2422" y2="1315.2422"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="97" x="1208" y="1309.2329">Notification</text><polygon fill="#000000" points="942.5,1345.0313,932.5,1349.0313,942.5,1353.0313,938.5,1349.0313" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="936.5" x2="1195" y1="1349.0313" y2="1349.0313"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="54" x="1135" y="1343.022">Status</text><polygon fill="#000000" points="673,1435.8203,663,1439.8203,673,1443.8203,669,1439.8203" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="667" x2="920.5" y1="1439.8203" y2="1439.8203"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="122" x="792.5" y="1433.811">Invite Request</text><polygon fill="#000000" points="1404,1469.6094,1414,1473.6094,1404,1477.6094,1408,1473.6094" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="662" x2="1410" y1="1473.6094" y2="1473.6094"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="142" x="669" y="1467.6001">HTTP(S) Forward</text><polygon fill="#000000" points="1639,1503.3984,1649,1507.3984,1639,1511.3984,1643,1507.3984" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="1426" x2="1645" y1="1507.3984" y2="1507.3984"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="164" x="1433" y="1501.3892">Einladung anzeigen</text><polygon fill="#000000" points="1437,1537.1875,1427,1541.1875,1437,1545.1875,1433,1541.1875" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1431" x2="1650" y1="1541.1875" y2="1541.1875"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="177" x="1467" y="1535.1782">Einladung bestätigen</text><polygon fill="#000000" points="673,1570.9766,663,1574.9766,673,1578.9766,669,1574.9766" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="667" x2="1415" y1="1574.9766" y2="1574.9766"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="64" x="1345" y="1568.9673">commit</text><line style="stroke:#000000;stroke-width:1.0;" x1="662" x2="704" y1="1633.7656" y2="1633.7656"/><line style="stroke:#000000;stroke-width:1.0;" x1="704" x2="704" y1="1633.7656" y2="1646.7656"/><line style="stroke:#000000;stroke-width:1.0;" x1="663" x2="704" y1="1646.7656" y2="1646.7656"/><polygon fill="#000000" points="673,1642.7656,663,1646.7656,673,1650.7656,669,1646.7656" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="149" x="669" y="1627.7563">TLS Terminierung</text><polygon fill="#000000" points="909.5,1676.5547,919.5,1680.5547,909.5,1684.5547,913.5,1680.5547" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="662" x2="915.5" y1="1680.5547" y2="1680.5547"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="142" x="669" y="1674.5454">HTTP(S) Forward</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="931.5" x2="973.5" y1="1714.3438" y2="1714.3438"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="973.5" x2="973.5" y1="1714.3438" y2="1727.3438"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="932.5" x2="973.5" y1="1727.3438" y2="1727.3438"/><polygon fill="#000000" points="942.5,1723.3438,932.5,1727.3438,942.5,1731.3438,938.5,1727.3438" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="127" x="938.5" y="1708.3345">Invite auslösen</text><polygon fill="#000000" points="673,1757.1328,663,1761.1328,673,1765.1328,669,1761.1328" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="667" x2="925.5" y1="1761.1328" y2="1761.1328"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="54" x="865.5" y="1755.1235">Status</text><polygon fill="#000000" points="379,1790.9219,369,1794.9219,379,1798.9219,375,1794.9219" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="373" x2="651" y1="1794.9219" y2="1794.9219"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="54" x="591" y="1788.9126">Status</text><polygon fill="#000000" points="144,1844.5,134,1848.5,144,1852.5,140,1848.5" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="138" x2="362" y1="1848.5" y2="1848.5"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="113" x="201" y="1822.7017">Nutzer in den</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="155" x="201" y="1842.4907">Raum hinzugefügt</text><polygon fill="#000000" points="1404,1878.2891,1414,1882.2891,1404,1886.2891,1408,1882.2891" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="657" x2="1410" y1="1882.2891" y2="1882.2891"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="54" x="664" y="1876.2798">Status</text><polygon fill="#000000" points="1639,1931.8672,1649,1935.8672,1639,1939.8672,1643,1935.8672" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1421" x2="1645" y1="1935.8672" y2="1935.8672"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="123" x="1428" y="1910.0688">Nutzer ist dem</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="152" x="1428" y="1929.8579">Raum beigetreten</text><!--MD5=[48071a8436f7a1ff1fe33b8b020240d4]
@startuml
skinparam sequenceMessageAlign direction
skinparam minClassWidth 200
skinparam BoxPadding 1
skinparam sequenceReferenceHeaderBackgroundColor palegreen
scale max 2048 width

skinparam sequence {
ArrowColor black
ArrowFontSize 17
ActorBorderColor black
LifeLineBorderColor black
LifeLineBackgroundColor Gainsboro

ParticipantBorderColor Motivation
ParticipantBackgroundColor Motivation
ParticipantFontName Impact
ParticipantFontSize 20
ParticipantFontColor black
ParticipantBorderColor Black
ParticipantBackgroundColor MOTIVATION

ActorBackgroundColor Gainsboro
ActorFontColor black
ActorFontSize 20
ActorFontName Aapex
}
    actor U1 as "Akteur - A in der Rolle\nUser / User-HBA"
    participant C1 as "TI-Messenger-\nClient A" #AliceBlue
    box <size:18>Messenger-Service</size> #WhiteSmoke
      participant MP as "Messenger-\nProxy"
      participant MH as "Matrix-Homeserver \n(inklusive Nutzerverzeichnis)"
      participant PG as "Push-Gateway"
    end box
    participant C2 as "TI-Messenger-\nClient B"#TECHNOLOGY
    actor U2 as "Akteur - B in der Rolle\nUser / User-HBA"
    
|||
note over U1, U2: \n<size:17>Die Akteure sind auf dem selben Messenger-Service angemeldet und im Besitz eines zugelassenen TI-Messenger-Clients.\n<size:17>Ein Chatraum wurde durch den Einladenen eingerichtet.</size>\n
|||

    opt#LightGrey #AliceBlue <size:16>Akteur suchen</size>
    |||
    U1->C1: Suche Akteur B
      activate C1 #AliceBlue
    C1->MP: POST /_matrix/client/\nuser_directory/search
      activate MP
    MP->MP: TLS-Terminierung
    MP->MH: HTTP(S) Forward
      activate MH
    MH- ->MH: Nutzerverzeichnis \ndurchsuchen
    MH- ->MP: MXID
      deactivate MH
    MP- ->C1: HTTP(S) Forward
    |||
    end
    
    |||
    U1->C1: Akteur B einladen
    C1->MP: POST /_matrix/client/r0/rooms/\n{roomId}/invite (roomId)
    MP->MP: Organisationszugehörigkeit \nprüfen
    |||
    
    alt#LightGrey #AliceBlue <size:16>kein gemeinsamer Messenger-Service</size>
      |||
      MP- ->C1: Akteure nicht auf \ndem gleichen \nMatrix-Homeserver
      C1- ->U1: Akteur B kann \nnicht eingeladen \nwerden
      |||
    
      else <size:16>gemeinsamer Messenger-Service</size>
    
      MP->MH: HTTP(S) Foward
        activate MH
      MH->MH: Invite verarbeiten
      |||
        opt#LightGrey #LightBlue <size:16>Pushbenachrichtigung</size>
          |||
          MH->PG: POST /_matrix/push/notify
            activate PG
          PG->C2: Notification
          PG- ->MH: Status
            deactivate PG
        |||
        end
        |||
          MH->MP: Invite Request
          MP->C2: HTTP(S) Forward
            activate C2 #TECHNOLOGY
          C2->U2: Einladung anzeigen
          U2- ->C2: Einladung bestätigen
          C2->MP: commit
          |||
          MP->MP: TLS Terminierung
          MP- ->MH: HTTP(S) Forward
          MH- ->MH: Invite auslösen
          MH- ->MP: Status
            deactivate MH
          MP- ->C1: Status
          C1- ->U1: Nutzer in den \nRaum hinzugefügt
            deactivate C1
          MP- ->C2: Status
            deactivate MP
          C2- ->U2: Nutzer ist dem \nRaum beigetreten
            deactivate C2

        |||
        end
 |||
@enduml

PlantUML version 1.2022.5(Sat Apr 30 10:55:52 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>