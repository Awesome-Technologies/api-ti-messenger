<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2144px" preserveAspectRatio="none" style="width:1804px;height:2144px;background:#FFFFFF;" version="1.1" viewBox="0 0 1804 2144" width="1804px" zoomAndPan="magnify"><defs><filter height="300%" id="ffc3oocm66xj0" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#F5F5F5" height="2132.4297" style="stroke:#A80036;stroke-width:1.0;" width="773" x="546" y="6"/><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="193" x="833.5" y="22.708">Messenger-Service</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="0" x="1031.5" y="23.8872"/><rect fill="#F0F8FF" filter="url(#ffc3oocm66xj0)" height="1508.5469" style="stroke:#000000;stroke-width:1.0;" width="10" x="360" y="350.9531"/><rect fill="#DCDCDC" filter="url(#ffc3oocm66xj0)" height="1488.7578" style="stroke:#000000;stroke-width:1.0;" width="10" x="654" y="404.5313"/><rect fill="#DCDCDC" filter="url(#ffc3oocm66xj0)" height="100.3672" style="stroke:#000000;stroke-width:1.0;" width="10" x="927.5" y="485.1094"/><rect fill="#DCDCDC" filter="url(#ffc3oocm66xj0)" height="638.0156" style="stroke:#000000;stroke-width:1.0;" width="10" x="927.5" y="1134.1172"/><rect fill="#DCDCDC" filter="url(#ffc3oocm66xj0)" height="67.5781" style="stroke:#000000;stroke-width:1.0;" width="10" x="1201" y="1292.4531"/><rect fill="#C9FFC9" filter="url(#ffc3oocm66xj0)" height="462.2578" style="stroke:#000000;stroke-width:1.0;" width="10" x="1430" y="1484.6094"/><rect fill="#F0F8FF" filter="url(#ffc3oocm66xj0)" height="372.8594" style="stroke:#000000;stroke-width:2.0;" width="1100.5" x="10" y="279.4063"/><rect fill="#F0F8FF" filter="url(#ffc3oocm66xj0)" height="1109.6563" style="stroke:#000000;stroke-width:2.0;" width="1780" x="10" y="870.2109"/><rect fill="#F0F8FF" height="892.1641" style="stroke:none;stroke-width:1.0;" width="1780" x="10" y="1087.7031"/><rect fill="#ADD8E6" filter="url(#ffc3oocm66xj0)" height="172.125" style="stroke:#000000;stroke-width:2.0;" width="786" x="768" y="1220.9063"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="133" x2="133" y1="118.5625" y2="2021.8672"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="365" x2="365" y1="118.5625" y2="2021.8672"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="659" x2="659" y1="118.5625" y2="2021.8672"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="932" x2="932" y1="118.5625" y2="2021.8672"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1206" x2="1206" y1="118.5625" y2="2021.8672"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1435" x2="1435" y1="118.5625" y2="2021.8672"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1667" x2="1667" y1="118.5625" y2="2021.8672"/><text fill="#000000" font-family="Aapex" font-size="20" lengthAdjust="spacing" textLength="220" x="20" y="90.5645">Akteur - A in der Rolle</text><text fill="#000000" font-family="Aapex" font-size="20" lengthAdjust="spacing" textLength="159" x="50.5" y="113.8457">User / User-HBA</text><ellipse cx="133" cy="15" fill="#DCDCDC" filter="url(#ffc3oocm66xj0)" rx="8" ry="8" style="stroke:#000000;stroke-width:2.0;"/><path d="M133,23 L133,50 M120,31 L146,31 M133,50 L120,65 M133,50 L146,65 " fill="none" filter="url(#ffc3oocm66xj0)" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="Aapex" font-size="20" lengthAdjust="spacing" textLength="220" x="20" y="2039.4316">Akteur - A in der Rolle</text><text fill="#000000" font-family="Aapex" font-size="20" lengthAdjust="spacing" textLength="159" x="50.5" y="2062.7129">User / User-HBA</text><ellipse cx="133" cy="2077.4297" fill="#DCDCDC" filter="url(#ffc3oocm66xj0)" rx="8" ry="8" style="stroke:#000000;stroke-width:2.0;"/><path d="M133,2085.4297 L133,2112.4297 M120,2093.4297 L146,2093.4297 M133,2112.4297 L120,2127.4297 M133,2112.4297 L146,2127.4297 " fill="none" filter="url(#ffc3oocm66xj0)" style="stroke:#000000;stroke-width:2.0;"/><rect fill="#F0F8FF" filter="url(#ffc3oocm66xj0)" height="60.5625" style="stroke:#000000;stroke-width:1.5;" width="214" x="256" y="53"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="139" x="293.5" y="78.5645">TI-Messenger-</text><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="79" x="323.5" y="101.8457">Client A</text><rect fill="#F0F8FF" filter="url(#ffc3oocm66xj0)" height="60.5625" style="stroke:#000000;stroke-width:1.5;" width="214" x="256" y="2020.8672"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="139" x="293.5" y="2046.4316">TI-Messenger-</text><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="79" x="323.5" y="2069.7129">Client A</text><rect fill="#EFEFFF" filter="url(#ffc3oocm66xj0)" height="60.5625" style="stroke:#000000;stroke-width:1.5;" width="214" x="550" y="53"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="114" x="600" y="78.5645">Messenger-</text><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="54" x="630" y="101.8457">Proxy</text><rect fill="#EFEFFF" filter="url(#ffc3oocm66xj0)" height="60.5625" style="stroke:#000000;stroke-width:1.5;" width="214" x="550" y="2020.8672"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="114" x="600" y="2046.4316">Messenger-</text><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="54" x="630" y="2069.7129">Proxy</text><rect fill="#EFEFFF" filter="url(#ffc3oocm66xj0)" height="60.5625" style="stroke:#000000;stroke-width:1.5;" width="305" x="778" y="53"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="189" x="833" y="78.5645">Matrix-Homeserver</text><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="291" x="785" y="101.8457">(inklusive Nutzerverzeichnis)</text><rect fill="#EFEFFF" filter="url(#ffc3oocm66xj0)" height="60.5625" style="stroke:#000000;stroke-width:1.5;" width="305" x="778" y="2020.8672"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="189" x="833" y="2046.4316">Matrix-Homeserver</text><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="291" x="785" y="2069.7129">(inklusive Nutzerverzeichnis)</text><rect fill="#EFEFFF" filter="url(#ffc3oocm66xj0)" height="37.2813" style="stroke:#000000;stroke-width:1.5;" width="214" x="1097" y="76.2813"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="143" x="1132.5" y="101.8457">Push-Gateway</text><rect fill="#EFEFFF" filter="url(#ffc3oocm66xj0)" height="37.2813" style="stroke:#000000;stroke-width:1.5;" width="214" x="1097" y="2020.8672"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="143" x="1132.5" y="2046.4316">Push-Gateway</text><rect fill="#C9FFC9" filter="url(#ffc3oocm66xj0)" height="60.5625" style="stroke:#000000;stroke-width:1.5;" width="214" x="1326" y="53"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="139" x="1363.5" y="78.5645">TI-Messenger-</text><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="79" x="1393.5" y="101.8457">Client B</text><rect fill="#C9FFC9" filter="url(#ffc3oocm66xj0)" height="60.5625" style="stroke:#000000;stroke-width:1.5;" width="214" x="1326" y="2020.8672"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="139" x="1363.5" y="2046.4316">TI-Messenger-</text><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="79" x="1393.5" y="2069.7129">Client B</text><text fill="#000000" font-family="Aapex" font-size="20" lengthAdjust="spacing" textLength="220" x="1554" y="90.5645">Akteur - B in der Rolle</text><text fill="#000000" font-family="Aapex" font-size="20" lengthAdjust="spacing" textLength="159" x="1584.5" y="113.8457">User / User-HBA</text><ellipse cx="1667" cy="15" fill="#DCDCDC" filter="url(#ffc3oocm66xj0)" rx="8" ry="8" style="stroke:#000000;stroke-width:2.0;"/><path d="M1667,23 L1667,50 M1654,31 L1680,31 M1667,50 L1654,65 M1667,50 L1680,65 " fill="none" filter="url(#ffc3oocm66xj0)" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="Aapex" font-size="20" lengthAdjust="spacing" textLength="220" x="1554" y="2039.4316">Akteur - B in der Rolle</text><text fill="#000000" font-family="Aapex" font-size="20" lengthAdjust="spacing" textLength="159" x="1584.5" y="2062.7129">User / User-HBA</text><ellipse cx="1667" cy="2077.4297" fill="#DCDCDC" filter="url(#ffc3oocm66xj0)" rx="8" ry="8" style="stroke:#000000;stroke-width:2.0;"/><path d="M1667,2085.4297 L1667,2112.4297 M1654,2093.4297 L1680,2093.4297 M1667,2112.4297 L1654,2127.4297 M1667,2112.4297 L1680,2127.4297 " fill="none" filter="url(#ffc3oocm66xj0)" style="stroke:#000000;stroke-width:2.0;"/><rect fill="#F0F8FF" filter="url(#ffc3oocm66xj0)" height="1508.5469" style="stroke:#000000;stroke-width:1.0;" width="10" x="360" y="350.9531"/><rect fill="#DCDCDC" filter="url(#ffc3oocm66xj0)" height="1488.7578" style="stroke:#000000;stroke-width:1.0;" width="10" x="654" y="404.5313"/><rect fill="#DCDCDC" filter="url(#ffc3oocm66xj0)" height="100.3672" style="stroke:#000000;stroke-width:1.0;" width="10" x="927.5" y="485.1094"/><rect fill="#DCDCDC" filter="url(#ffc3oocm66xj0)" height="638.0156" style="stroke:#000000;stroke-width:1.0;" width="10" x="927.5" y="1134.1172"/><rect fill="#DCDCDC" filter="url(#ffc3oocm66xj0)" height="67.5781" style="stroke:#000000;stroke-width:1.0;" width="10" x="1201" y="1292.4531"/><rect fill="#C9FFC9" filter="url(#ffc3oocm66xj0)" height="462.2578" style="stroke:#000000;stroke-width:1.0;" width="10" x="1430" y="1484.6094"/><path d="M22,158.5625 L22,237.5625 L1777,237.5625 L1777,168.5625 L1767,158.5625 L22,158.5625 " fill="#FBFB77" filter="url(#ffc3oocm66xj0)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1767,158.5625 L1767,168.5625 L1777,168.5625 L1767,158.5625 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="393.5" y="175.6294"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="1007" x="389.5" y="194.4751">Die Akteure sind auf dem selben Messenger-Service angemeldet und im Besitz eines zugelassenen TI-Messenger-Clients.</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="473" x="389.5" y="214.2642">Ein Chatraum wurde durch den Einladenen eingerichtet.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="393.5" y="230.3403"/><path d="M10,279.4063 L80,279.4063 L80,286.4063 L70,296.4063 L10,296.4063 L10,279.4063 " fill="#D3D3D3" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="372.8594" style="stroke:#000000;stroke-width:2.0;" width="1100.5" x="10" y="279.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="25" x="25" y="292.4731">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="5" x="95" y="297.437">[</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="131" x="100" y="296.2578">Akteur suchen</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="5" x="231" y="297.437">]</text><polygon fill="#000000" points="348,346.9531,358,350.9531,348,354.9531,352,350.9531" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="133" x2="354" y1="350.9531" y2="350.9531"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="129" x="140" y="344.9438">Suche Akteur B</text><polygon fill="#000000" points="642,400.5313,652,404.5313,642,408.5313,646,404.5313" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="370" x2="648" y1="404.5313" y2="404.5313"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="178" x="377" y="378.7329">POST /_matrix/client/</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="179" x="377" y="398.522">user_directory/search</text><line style="stroke:#000000;stroke-width:1.0;" x1="664" x2="706" y1="438.3203" y2="438.3203"/><line style="stroke:#000000;stroke-width:1.0;" x1="706" x2="706" y1="438.3203" y2="451.3203"/><line style="stroke:#000000;stroke-width:1.0;" x1="665" x2="706" y1="451.3203" y2="451.3203"/><polygon fill="#000000" points="675,447.3203,665,451.3203,675,455.3203,671,451.3203" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="150" x="671" y="432.311">TLS-Terminierung</text><polygon fill="#000000" points="915.5,481.1094,925.5,485.1094,915.5,489.1094,919.5,485.1094" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="664" x2="921.5" y1="485.1094" y2="485.1094"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="142" x="671" y="479.1001">HTTP(S) Forward</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="937.5" x2="979.5" y1="538.6875" y2="538.6875"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="979.5" x2="979.5" y1="538.6875" y2="551.6875"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="938.5" x2="979.5" y1="551.6875" y2="551.6875"/><polygon fill="#000000" points="948.5,547.6875,938.5,551.6875,948.5,555.6875,944.5,551.6875" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="149" x="944.5" y="512.8892">Nutzerverzeichnis</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="106" x="944.5" y="532.6782">durchsuchen</text><polygon fill="#000000" points="675,581.4766,665,585.4766,675,589.4766,671,585.4766" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="669" x2="931.5" y1="585.4766" y2="585.4766"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="47" x="878.5" y="579.4673">MXID</text><polygon fill="#000000" points="381,615.2656,371,619.2656,381,623.2656,377,619.2656" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="375" x2="653" y1="619.2656" y2="619.2656"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="142" x="505" y="613.2563">HTTP(S) Forward</text><polygon fill="#000000" points="348,706.0547,358,710.0547,348,714.0547,352,710.0547" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="133" x2="354" y1="710.0547" y2="710.0547"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="150" x="140" y="704.0454">Akteur B einladen</text><polygon fill="#000000" points="642,759.6328,652,763.6328,642,767.6328,646,763.6328" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="370" x2="648" y1="763.6328" y2="763.6328"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="260" x="377" y="737.8345">POST /_matrix/client/r0/rooms/</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="215" x="377" y="757.6235">{roomId}/invite (roomId)</text><line style="stroke:#000000;stroke-width:1.0;" x1="664" x2="706" y1="817.2109" y2="817.2109"/><line style="stroke:#000000;stroke-width:1.0;" x1="706" x2="706" y1="817.2109" y2="830.2109"/><line style="stroke:#000000;stroke-width:1.0;" x1="665" x2="706" y1="830.2109" y2="830.2109"/><polygon fill="#000000" points="675,826.2109,665,830.2109,675,834.2109,671,830.2109" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="229" x="671" y="791.4126">Organisationszugehörigkeit</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="55" x="671" y="811.2017">prüfen</text><path d="M10,870.2109 L74,870.2109 L74,877.2109 L64,887.2109 L10,887.2109 L10,870.2109 " fill="#D3D3D3" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="1109.6563" style="stroke:#000000;stroke-width:2.0;" width="1780" x="10" y="870.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="25" y="883.2778">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="5" x="89" y="888.2417">[</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="339" x="94" y="887.0625">kein gemeinsamer Messenger-Service</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="5" x="433" y="888.2417">]</text><polygon fill="#000000" points="381,977.3359,371,981.3359,381,985.3359,377,981.3359" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="375" x2="653" y1="981.3359" y2="981.3359"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="145" x="497" y="935.7485">Akteure nicht auf</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="112" x="530" y="955.5376">dem gleichen</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="162" x="485" y="975.3267">Matrix-Homeserver</text><polygon fill="#000000" points="144,1050.7031,134,1054.7031,144,1058.7031,140,1054.7031" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="138" x2="359" y1="1054.7031" y2="1054.7031"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="120" x="228" y="1009.1157">Akteur B kann</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="139" x="209" y="1028.9048">nicht eingeladen</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="63" x="290" y="1048.6938">werden</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="1790" y1="1088.7031" y2="1088.7031"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="5" x="15" y="1104.7339">[</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="296" x="20" y="1103.5547">gemeinsamer Messenger-Service</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="5" x="316" y="1104.7339">]</text><polygon fill="#000000" points="915.5,1130.1172,925.5,1134.1172,915.5,1138.1172,919.5,1134.1172" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="664" x2="921.5" y1="1134.1172" y2="1134.1172"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="135" x="671" y="1128.1079">HTTP(S) Foward</text><line style="stroke:#000000;stroke-width:1.0;" x1="937.5" x2="979.5" y1="1167.9063" y2="1167.9063"/><line style="stroke:#000000;stroke-width:1.0;" x1="979.5" x2="979.5" y1="1167.9063" y2="1180.9063"/><line style="stroke:#000000;stroke-width:1.0;" x1="938.5" x2="979.5" y1="1180.9063" y2="1180.9063"/><polygon fill="#000000" points="948.5,1176.9063,938.5,1180.9063,948.5,1184.9063,944.5,1180.9063" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="151" x="944.5" y="1161.897">Invite verarbeiten</text><path d="M768,1220.9063 L838,1220.9063 L838,1227.9063 L828,1237.9063 L768,1237.9063 L768,1220.9063 " fill="#D3D3D3" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="172.125" style="stroke:#000000;stroke-width:2.0;" width="786" x="768" y="1220.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="25" x="783" y="1233.9731">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="5" x="853" y="1238.937">[</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="197" x="858" y="1237.7578">Pushbenachrichtigung</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="5" x="1055" y="1238.937">]</text><polygon fill="#000000" points="1189,1288.4531,1199,1292.4531,1189,1296.4531,1193,1292.4531" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="937.5" x2="1195" y1="1292.4531" y2="1292.4531"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="221" x="944.5" y="1286.4438">POST /_matrix/push/notify</text><polygon fill="#000000" points="1423,1322.2422,1433,1326.2422,1423,1330.2422,1427,1326.2422" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="1211" x2="1429" y1="1326.2422" y2="1326.2422"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="97" x="1218" y="1320.2329">Notification</text><polygon fill="#000000" points="948.5,1356.0313,938.5,1360.0313,948.5,1364.0313,944.5,1360.0313" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="942.5" x2="1205" y1="1360.0313" y2="1360.0313"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="54" x="1145" y="1354.022">Status</text><polygon fill="#000000" points="675,1446.8203,665,1450.8203,675,1454.8203,671,1450.8203" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="669" x2="926.5" y1="1450.8203" y2="1450.8203"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="122" x="798.5" y="1444.811">Invite Request</text><polygon fill="#000000" points="1418,1480.6094,1428,1484.6094,1418,1488.6094,1422,1484.6094" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="664" x2="1424" y1="1484.6094" y2="1484.6094"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="142" x="671" y="1478.6001">HTTP(S) Forward</text><polygon fill="#000000" points="1655,1514.3984,1665,1518.3984,1655,1522.3984,1659,1518.3984" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="1440" x2="1661" y1="1518.3984" y2="1518.3984"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="164" x="1447" y="1512.3892">Einladung anzeigen</text><polygon fill="#000000" points="1451,1548.1875,1441,1552.1875,1451,1556.1875,1447,1552.1875" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1445" x2="1666" y1="1552.1875" y2="1552.1875"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="177" x="1483" y="1546.1782">Einladung bestätigen</text><polygon fill="#000000" points="675,1581.9766,665,1585.9766,675,1589.9766,671,1585.9766" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="669" x2="1429" y1="1585.9766" y2="1585.9766"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="64" x="1359" y="1579.9673">commit</text><line style="stroke:#000000;stroke-width:1.0;" x1="664" x2="706" y1="1644.7656" y2="1644.7656"/><line style="stroke:#000000;stroke-width:1.0;" x1="706" x2="706" y1="1644.7656" y2="1657.7656"/><line style="stroke:#000000;stroke-width:1.0;" x1="665" x2="706" y1="1657.7656" y2="1657.7656"/><polygon fill="#000000" points="675,1653.7656,665,1657.7656,675,1661.7656,671,1657.7656" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="149" x="671" y="1638.7563">TLS Terminierung</text><polygon fill="#000000" points="915.5,1687.5547,925.5,1691.5547,915.5,1695.5547,919.5,1691.5547" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="664" x2="921.5" y1="1691.5547" y2="1691.5547"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="142" x="671" y="1685.5454">HTTP(S) Forward</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="937.5" x2="979.5" y1="1725.3438" y2="1725.3438"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="979.5" x2="979.5" y1="1725.3438" y2="1738.3438"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="938.5" x2="979.5" y1="1738.3438" y2="1738.3438"/><polygon fill="#000000" points="948.5,1734.3438,938.5,1738.3438,948.5,1742.3438,944.5,1738.3438" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="127" x="944.5" y="1719.3345">Invite auslösen</text><polygon fill="#000000" points="675,1768.1328,665,1772.1328,675,1776.1328,671,1772.1328" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="669" x2="931.5" y1="1772.1328" y2="1772.1328"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="54" x="871.5" y="1766.1235">Status</text><polygon fill="#000000" points="381,1801.9219,371,1805.9219,381,1809.9219,377,1805.9219" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="375" x2="653" y1="1805.9219" y2="1805.9219"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="54" x="593" y="1799.9126">Status</text><polygon fill="#000000" points="144,1855.5,134,1859.5,144,1863.5,140,1859.5" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="138" x2="364" y1="1859.5" y2="1859.5"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="113" x="240" y="1833.7017">Nutzer in den</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="155" x="203" y="1853.4907">Raum hinzugefügt</text><polygon fill="#000000" points="1418,1889.2891,1428,1893.2891,1418,1897.2891,1422,1893.2891" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="659" x2="1424" y1="1893.2891" y2="1893.2891"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="54" x="666" y="1887.2798">Status</text><polygon fill="#000000" points="1655,1942.8672,1665,1946.8672,1655,1950.8672,1659,1946.8672" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1435" x2="1661" y1="1946.8672" y2="1946.8672"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="123" x="1442" y="1921.0688">Nutzer ist dem</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="152" x="1442" y="1940.8579">Raum beigetreten</text><!--MD5=[0bfab2dcc9b501f79012a6008db6bdb2]
@startuml
skinparam sequenceMessageAlign direction
skinparam minClassWidth 200
skinparam BoxPadding 1
skinparam sequenceReferenceHeaderBackgroundColor palegreen
scale max 2048 width

skinparam sequence {
ArrowColor black
ArrowFontSize 17
ActorBorderColor black
LifeLineBorderColor black
LifeLineBackgroundColor Gainsboro

ParticipantBorderColor Motivation
ParticipantBackgroundColor Motivation
ParticipantFontName Impact
ParticipantFontSize 20
ParticipantFontColor black
ParticipantBorderColor Black
ParticipantBackgroundColor MOTIVATION

ActorBackgroundColor Gainsboro
ActorFontColor black
ActorFontSize 20
ActorFontName Aapex
}
    actor U1 as "Akteur - A in der Rolle\nUser / User-HBA"
    participant C1 as "TI-Messenger-\nClient A" #AliceBlue
    box <size:18>Messenger-Service</size> #WhiteSmoke
      participant MP as "Messenger-\nProxy"
      participant MH as "Matrix-Homeserver \n(inklusive Nutzerverzeichnis)"
      participant PG as "Push-Gateway"
    end box
    participant C2 as "TI-Messenger-\nClient B"#TECHNOLOGY
    actor U2 as "Akteur - B in der Rolle\nUser / User-HBA"
    
|||
note over U1, U2: \n<size:17>Die Akteure sind auf dem selben Messenger-Service angemeldet und im Besitz eines zugelassenen TI-Messenger-Clients.\n<size:17>Ein Chatraum wurde durch den Einladenen eingerichtet.</size>\n
|||

    opt#LightGrey #AliceBlue <size:16>Akteur suchen</size>
    |||
    U1->C1: Suche Akteur B
      activate C1 #AliceBlue
    C1->MP: POST /_matrix/client/\nuser_directory/search
      activate MP
    MP->MP: TLS-Terminierung
    MP->MH: HTTP(S) Forward
      activate MH
    MH- ->MH: Nutzerverzeichnis \ndurchsuchen
    MH- ->MP: MXID
      deactivate MH
    MP- ->C1: HTTP(S) Forward
    |||
    end
    
    |||
    U1->C1: Akteur B einladen
    C1->MP: POST /_matrix/client/r0/rooms/\n{roomId}/invite (roomId)
    MP->MP: Organisationszugehörigkeit \nprüfen
    |||
    
    alt#LightGrey #AliceBlue <size:16>kein gemeinsamer Messenger-Service</size>
      |||
      MP- ->C1: Akteure nicht auf \ndem gleichen \nMatrix-Homeserver
      C1- ->U1: Akteur B kann \nnicht eingeladen \nwerden
      |||
    
      else <size:16>gemeinsamer Messenger-Service</size>
    
      MP->MH: HTTP(S) Foward
        activate MH
      MH->MH: Invite verarbeiten
      |||
        opt#LightGrey #LightBlue <size:16>Pushbenachrichtigung</size>
          |||
          MH->PG: POST /_matrix/push/notify
            activate PG
          PG->C2: Notification
          PG- ->MH: Status
            deactivate PG
        |||
        end
        |||
          MH->MP: Invite Request
          MP->C2: HTTP(S) Forward
            activate C2 #TECHNOLOGY
          C2->U2: Einladung anzeigen
          U2- ->C2: Einladung bestätigen
          C2->MP: commit
          |||
          MP->MP: TLS Terminierung
          MP- ->MH: HTTP(S) Forward
          MH- ->MH: Invite auslösen
          MH- ->MP: Status
            deactivate MH
          MP- ->C1: Status
          C1- ->U1: Nutzer in den \nRaum hinzugefügt
            deactivate C1
          MP- ->C2: Status
            deactivate MP
          C2- ->U2: Nutzer ist dem \nRaum beigetreten
            deactivate C2

        |||
        end
 |||
@enduml

PlantUML version 1.2021.16(Wed Dec 08 17:25:22 UTC 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>